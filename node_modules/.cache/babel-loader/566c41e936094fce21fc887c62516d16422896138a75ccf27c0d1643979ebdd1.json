{"ast":null,"code":"import _classCallCheck from \"/home/jaona/myfiles/Jaona/Components/dashboard/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/jaona/myfiles/Jaona/Components/dashboard/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/jaona/myfiles/Jaona/Components/dashboard/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/jaona/myfiles/Jaona/Components/dashboard/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Base } from './Base.js';\nimport * as utils from './utils.js';\nexport var Struct = /*#__PURE__*/function (_Base) {\n  _inherits(Struct, _Base);\n  var _super = _createSuper(Struct);\n  function Struct() {\n    var _this;\n    var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, Struct);\n    _this = _super.call(this);\n    _this.fields = fields;\n    return _this;\n  }\n  _createClass(Struct, [{\n    key: \"decode\",\n    value: function decode(stream, parent) {\n      var length = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var res = this._setup(stream, parent, length);\n      this._parseFields(stream, res, this.fields);\n      if (this.process != null) {\n        this.process.call(res, stream);\n      }\n      return res;\n    }\n  }, {\n    key: \"_setup\",\n    value: function _setup(stream, parent, length) {\n      var res = {};\n\n      // define hidden properties\n      Object.defineProperties(res, {\n        parent: {\n          value: parent\n        },\n        _startOffset: {\n          value: stream.pos\n        },\n        _currentOffset: {\n          value: 0,\n          writable: true\n        },\n        _length: {\n          value: length\n        }\n      });\n      return res;\n    }\n  }, {\n    key: \"_parseFields\",\n    value: function _parseFields(stream, res, fields) {\n      for (var key in fields) {\n        var val;\n        var type = fields[key];\n        if (typeof type === 'function') {\n          val = type.call(res, res);\n        } else {\n          val = type.decode(stream, res);\n        }\n        if (val !== undefined) {\n          if (val instanceof utils.PropertyDescriptor) {\n            Object.defineProperty(res, key, val);\n          } else {\n            res[key] = val;\n          }\n        }\n        res._currentOffset = stream.pos - res._startOffset;\n      }\n    }\n  }, {\n    key: \"size\",\n    value: function size(val, parent) {\n      var includePointers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      if (val == null) {\n        val = {};\n      }\n      var ctx = {\n        parent: parent,\n        val: val,\n        pointerSize: 0\n      };\n      if (this.preEncode != null) {\n        this.preEncode.call(val);\n      }\n      var size = 0;\n      for (var key in this.fields) {\n        var type = this.fields[key];\n        if (type.size != null) {\n          size += type.size(val[key], ctx);\n        }\n      }\n      if (includePointers) {\n        size += ctx.pointerSize;\n      }\n      return size;\n    }\n  }, {\n    key: \"encode\",\n    value: function encode(stream, val, parent) {\n      var type;\n      if (this.preEncode != null) {\n        this.preEncode.call(val, stream);\n      }\n      var ctx = {\n        pointers: [],\n        startOffset: stream.pos,\n        parent: parent,\n        val: val,\n        pointerSize: 0\n      };\n      ctx.pointerOffset = stream.pos + this.size(val, ctx, false);\n      for (var key in this.fields) {\n        type = this.fields[key];\n        if (type.encode != null) {\n          type.encode(stream, val[key], ctx);\n        }\n      }\n      var i = 0;\n      while (i < ctx.pointers.length) {\n        var ptr = ctx.pointers[i++];\n        ptr.type.encode(stream, ptr.val, ptr.parent);\n      }\n    }\n  }]);\n  return Struct;\n}(Base);","map":{"version":3,"names":["Base","utils","Struct","_Base","_inherits","_super","_createSuper","_this","fields","arguments","length","undefined","_classCallCheck","call","_createClass","key","value","decode","stream","parent","res","_setup","_parseFields","process","Object","defineProperties","_startOffset","pos","_currentOffset","writable","_length","val","type","PropertyDescriptor","defineProperty","size","includePointers","ctx","pointerSize","preEncode","encode","pointers","startOffset","pointerOffset","i","ptr"],"sources":["/home/jaona/myfiles/Jaona/Components/dashboard/node_modules/restructure/src/Struct.js"],"sourcesContent":["import {Base} from './Base.js';\nimport * as utils from './utils.js';\n\nexport class Struct extends Base {\n  constructor(fields = {}) {\n    super();\n    this.fields = fields;\n  }\n\n  decode(stream, parent, length = 0) {\n    const res = this._setup(stream, parent, length);\n    this._parseFields(stream, res, this.fields);\n\n    if (this.process != null) {\n      this.process.call(res, stream);\n    }\n    return res;\n  }\n\n  _setup(stream, parent, length) {\n    const res = {};\n\n    // define hidden properties\n    Object.defineProperties(res, {\n      parent:         { value: parent },\n      _startOffset:   { value: stream.pos },\n      _currentOffset: { value: 0, writable: true },\n      _length:        { value: length }\n    });\n\n    return res;\n  }\n\n  _parseFields(stream, res, fields) {\n    for (let key in fields) {\n      var val;\n      const type = fields[key];\n      if (typeof type === 'function') {\n        val = type.call(res, res);\n      } else {\n        val = type.decode(stream, res);\n      }\n\n      if (val !== undefined) {\n        if (val instanceof utils.PropertyDescriptor) {\n          Object.defineProperty(res, key, val);\n        } else {\n          res[key] = val;\n        }\n      }\n\n      res._currentOffset = stream.pos - res._startOffset;\n    }\n\n  }\n\n  size(val, parent, includePointers = true) {\n    if (val == null) { val = {}; }\n    const ctx = {\n      parent,\n      val,\n      pointerSize: 0\n    };\n\n    if (this.preEncode != null) {\n      this.preEncode.call(val);\n    }\n\n    let size = 0;\n    for (let key in this.fields) {\n      const type = this.fields[key];\n      if (type.size != null) {\n        size += type.size(val[key], ctx);\n      }\n    }\n\n    if (includePointers) {\n      size += ctx.pointerSize;\n    }\n\n    return size;\n  }\n\n  encode(stream, val, parent) {\n    let type;\n    if (this.preEncode != null) {\n      this.preEncode.call(val, stream);\n    }\n\n    const ctx = {\n      pointers: [],\n      startOffset: stream.pos,\n      parent,\n      val,\n      pointerSize: 0\n    };\n\n    ctx.pointerOffset = stream.pos + this.size(val, ctx, false);\n\n    for (let key in this.fields) {\n      type = this.fields[key];\n      if (type.encode != null) {\n        type.encode(stream, val[key], ctx);\n      }\n    }\n\n    let i = 0;\n    while (i < ctx.pointers.length) {\n      const ptr = ctx.pointers[i++];\n      ptr.type.encode(stream, ptr.val, ptr.parent);\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}