{"ast":null,"code":"import _toConsumableArray from\"/home/jaona/myfiles/Jaona/Components/dashboard/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/jaona/myfiles/Jaona/Components/dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from\"react\";import{IoSearchOutline,IoCloseOutline}from\"react-icons/io5\";import{AnimatePresence,motion}from\"framer-motion\";import{searchBarVariant}from\"./variants\";import Hider from\"../../../../utilsComponents/Hider/Hider\";import ListResult from\"./ListResult/ListResult\";import\"./SearchBar.sass\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SearchBar=function SearchBar(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchText=_useState2[0],setSearchText=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showSearch=_useState4[0],setShowSearch=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),fetching=_useState6[0],setFetching=_useState6[1];var _useState7=useState(-1),_useState8=_slicedToArray(_useState7,2),idTimeOut=_useState8[0],setIdTimeOut=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),data=_useState10[0],setData=_useState10[1];var input=useRef(null);var show=function show(){setShowSearch(true);};var closeSearch=function closeSearch(){setShowSearch(false);};var clearInput=function clearInput(){setSearchText(\"\");setData([]);};var handleSearch=function handleSearch(e){if(e)e.preventDefault();setFetching(true);setTimeout(function(){setData(_toConsumableArray(Array(Math.round(Math.random()*30))));setFetching(false);},1000);};var handleTyping=function handleTyping(e){clearTimeout(idTimeOut);var id=setTimeout(function(){handleSearch(e);},350);setIdTimeOut(id);};var handleInput=function handleInput(e){setSearchText(e.target.value);};useEffect(function(){if(input.current&&showSearch)input.current.focus();},[showSearch]);useEffect(function(){if(searchText.trim()!==\"\")handleTyping();else{clearTimeout(idTimeOut);clearInput();}},[searchText]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search_bar_container\",onClick:show,children:[/*#__PURE__*/_jsx(\"div\",{className:\"placeholder\",children:\"Search here...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"icon\",children:/*#__PURE__*/_jsx(IoSearchOutline,{})})]}),/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",children:showSearch&&/*#__PURE__*/_jsx(Hider,{onClick:closeSearch,classCss:\"glassy\",children:/*#__PURE__*/_jsxs(motion.div,{className:\"search_input_container\",variants:searchBarVariant,onClick:function onClick(e){e.stopPropagation();},children:[/*#__PURE__*/_jsxs(\"form\",{className:\"input\",onSubmit:handleSearch,children:[/*#__PURE__*/_jsx(\"div\",{className:\"left icon\",tabIndex:0,onClick:handleSearch,children:/*#__PURE__*/_jsx(IoSearchOutline,{})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchText,ref:input,onInput:handleInput,placeholder:\"What are you looking for ?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"right icon\",tabIndex:0,onClick:clearInput,children:/*#__PURE__*/_jsx(IoCloseOutline,{})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"result_list\",children:/*#__PURE__*/_jsx(ListResult,{data:data,loading:fetching,closer:closeSearch})})]})})})]});};export default SearchBar;","map":{"version":3,"names":["React","useEffect","useRef","useState","IoSearchOutline","IoCloseOutline","AnimatePresence","motion","searchBarVariant","Hider","ListResult","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SearchBar","_useState","_useState2","_slicedToArray","searchText","setSearchText","_useState3","_useState4","showSearch","setShowSearch","_useState5","_useState6","fetching","setFetching","_useState7","_useState8","idTimeOut","setIdTimeOut","_useState9","_useState10","data","setData","input","show","closeSearch","clearInput","handleSearch","e","preventDefault","setTimeout","_toConsumableArray","Array","Math","round","random","handleTyping","clearTimeout","id","handleInput","target","value","current","focus","trim","children","className","onClick","mode","classCss","div","variants","stopPropagation","onSubmit","tabIndex","type","ref","onInput","placeholder","loading","closer"],"sources":["/home/jaona/myfiles/Jaona/Components/dashboard/src/components/ContentContainer/Header/SearchBar/SearchBar.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { IoSearchOutline, IoCloseOutline } from \"react-icons/io5\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport { searchBarVariant } from \"./variants\";\nimport Hider from \"../../../../utilsComponents/Hider/Hider\";\nimport ListResult from \"./ListResult/ListResult\";\nimport \"./SearchBar.sass\";\n\nconst SearchBar = () => {\n  const [searchText, setSearchText] = useState(\"\");\n  const [showSearch, setShowSearch] = useState(false);\n  const [fetching, setFetching] = useState(false);\n  const [idTimeOut, setIdTimeOut] = useState(-1);\n  const [data, setData] = useState([]);\n  const input = useRef(null);\n\n  const show = () => {\n    setShowSearch(true);\n  };\n\n  const closeSearch = () => {\n    setShowSearch(false);\n  };\n\n  const clearInput = () => {\n    setSearchText(\"\");\n    setData([]);\n  };\n\n  const handleSearch = (e) => {\n    if (e) e.preventDefault();\n    setFetching(true);\n    setTimeout(() => {\n      setData([...Array(Math.round(Math.random() * 30))]);\n      setFetching(false);\n    }, 1000);\n  };\n\n  const handleTyping = (e) => {\n    clearTimeout(idTimeOut);\n    const id = setTimeout(() => {\n      handleSearch(e);\n    }, 350);\n    setIdTimeOut(id);\n  };\n\n  const handleInput = (e) => {\n    setSearchText(e.target.value);\n  };\n\n  useEffect(() => {\n    if (input.current && showSearch) input.current.focus();\n  }, [showSearch]);\n\n  useEffect(() => {\n    if (searchText.trim() !== \"\") handleTyping();\n    else {\n      clearTimeout(idTimeOut);\n      clearInput();\n    }\n  }, [searchText]);\n\n  return (\n    <>\n      <div className=\"search_bar_container\" onClick={show}>\n        <div className=\"placeholder\">Search here...</div>\n        <div className=\"icon\">\n          <IoSearchOutline />\n        </div>\n      </div>\n      <AnimatePresence mode=\"wait\">\n        {showSearch && (\n          <Hider onClick={closeSearch} classCss=\"glassy\">\n            <motion.div\n              className=\"search_input_container\"\n              variants={searchBarVariant}\n              onClick={(e) => {\n                e.stopPropagation();\n              }}\n            >\n              <form className=\"input\" onSubmit={handleSearch}>\n                <div className=\"left icon\" tabIndex={0} onClick={handleSearch}>\n                  <IoSearchOutline />\n                </div>\n                <input type=\"text\" value={searchText} ref={input} onInput={handleInput} placeholder=\"What are you looking for ?\" />\n                <div className=\"right icon\" tabIndex={0} onClick={clearInput}>\n                  <IoCloseOutline />\n                </div>\n              </form>\n              <div className=\"result_list\">\n                <ListResult data={data} loading={fetching} closer={closeSearch} />\n              </div>\n            </motion.div>\n          </Hider>\n        )}\n      </AnimatePresence>\n    </>\n  );\n};\n\nexport default SearchBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}