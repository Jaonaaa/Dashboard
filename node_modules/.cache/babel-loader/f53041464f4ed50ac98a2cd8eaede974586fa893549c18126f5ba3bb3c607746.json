{"ast":null,"code":"import _createForOfIteratorHelper from \"/home/jaona/myfiles/Jaona/Components/dashboard/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/home/jaona/myfiles/Jaona/Components/dashboard/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/jaona/myfiles/Jaona/Components/dashboard/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { DecodeStream } from './DecodeStream.js';\nvar textEncoder = new TextEncoder();\nvar isBigEndian = new Uint8Array(new Uint16Array([0x1234]).buffer)[0] == 0x12;\nexport var EncodeStream = /*#__PURE__*/function () {\n  function EncodeStream(buffer) {\n    _classCallCheck(this, EncodeStream);\n    this.buffer = buffer;\n    this.view = new DataView(this.buffer.buffer, this.buffer.byteOffset, this.buffer.byteLength);\n    this.pos = 0;\n  }\n  _createClass(EncodeStream, [{\n    key: \"writeBuffer\",\n    value: function writeBuffer(buffer) {\n      this.buffer.set(buffer, this.pos);\n      this.pos += buffer.length;\n    }\n  }, {\n    key: \"writeString\",\n    value: function writeString(string) {\n      var encoding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'ascii';\n      var buf;\n      switch (encoding) {\n        case 'utf16le':\n        case 'utf16-le':\n        case 'ucs2':\n          // node treats this the same as utf16.\n          buf = stringToUtf16(string, isBigEndian);\n          break;\n        case 'utf16be':\n        case 'utf16-be':\n          buf = stringToUtf16(string, !isBigEndian);\n          break;\n        case 'utf8':\n          buf = textEncoder.encode(string);\n          break;\n        case 'ascii':\n          buf = stringToAscii(string);\n          break;\n        default:\n          throw new Error(\"Unsupported encoding: \".concat(encoding));\n      }\n      this.writeBuffer(buf);\n    }\n  }, {\n    key: \"writeUInt24BE\",\n    value: function writeUInt24BE(val) {\n      this.buffer[this.pos++] = val >>> 16 & 0xff;\n      this.buffer[this.pos++] = val >>> 8 & 0xff;\n      this.buffer[this.pos++] = val & 0xff;\n    }\n  }, {\n    key: \"writeUInt24LE\",\n    value: function writeUInt24LE(val) {\n      this.buffer[this.pos++] = val & 0xff;\n      this.buffer[this.pos++] = val >>> 8 & 0xff;\n      this.buffer[this.pos++] = val >>> 16 & 0xff;\n    }\n  }, {\n    key: \"writeInt24BE\",\n    value: function writeInt24BE(val) {\n      if (val >= 0) {\n        this.writeUInt24BE(val);\n      } else {\n        this.writeUInt24BE(val + 0xffffff + 1);\n      }\n    }\n  }, {\n    key: \"writeInt24LE\",\n    value: function writeInt24LE(val) {\n      if (val >= 0) {\n        this.writeUInt24LE(val);\n      } else {\n        this.writeUInt24LE(val + 0xffffff + 1);\n      }\n    }\n  }, {\n    key: \"fill\",\n    value: function fill(val, length) {\n      if (length < this.buffer.length) {\n        this.buffer.fill(val, this.pos, this.pos + length);\n        this.pos += length;\n      } else {\n        var buf = new Uint8Array(length);\n        buf.fill(val);\n        this.writeBuffer(buf);\n      }\n    }\n  }]);\n  return EncodeStream;\n}();\nfunction stringToUtf16(string, swap) {\n  var buf = new Uint16Array(string.length);\n  for (var i = 0; i < string.length; i++) {\n    var code = string.charCodeAt(i);\n    if (swap) {\n      code = code >> 8 | (code & 0xff) << 8;\n    }\n    buf[i] = code;\n  }\n  return new Uint8Array(buf.buffer);\n}\nfunction stringToAscii(string) {\n  var buf = new Uint8Array(string.length);\n  for (var i = 0; i < string.length; i++) {\n    // Match node.js behavior - encoding allows 8-bit rather than 7-bit.\n    buf[i] = string.charCodeAt(i);\n  }\n  return buf;\n}\nvar _iterator = _createForOfIteratorHelper(Object.getOwnPropertyNames(DataView.prototype)),\n  _step;\ntry {\n  var _loop = function _loop() {\n    var key = _step.value;\n    if (key.slice(0, 3) === 'set') {\n      var type = key.slice(3).replace('Ui', 'UI');\n      if (type === 'Float32') {\n        type = 'Float';\n      } else if (type === 'Float64') {\n        type = 'Double';\n      }\n      var bytes = DecodeStream.TYPES[type];\n      EncodeStream.prototype['write' + type + (bytes === 1 ? '' : 'BE')] = function (value) {\n        this.view[key](this.pos, value, false);\n        this.pos += bytes;\n      };\n      if (bytes !== 1) {\n        EncodeStream.prototype['write' + type + 'LE'] = function (value) {\n          this.view[key](this.pos, value, true);\n          this.pos += bytes;\n        };\n      }\n    }\n  };\n  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n    _loop();\n  }\n} catch (err) {\n  _iterator.e(err);\n} finally {\n  _iterator.f();\n}","map":{"version":3,"names":["DecodeStream","textEncoder","TextEncoder","isBigEndian","Uint8Array","Uint16Array","buffer","EncodeStream","_classCallCheck","view","DataView","byteOffset","byteLength","pos","_createClass","key","value","writeBuffer","set","length","writeString","string","encoding","arguments","undefined","buf","stringToUtf16","encode","stringToAscii","Error","concat","writeUInt24BE","val","writeUInt24LE","writeInt24BE","writeInt24LE","fill","swap","i","code","charCodeAt","_iterator","_createForOfIteratorHelper","Object","getOwnPropertyNames","prototype","_step","_loop","slice","type","replace","bytes","TYPES","s","n","done","err","e","f"],"sources":["/home/jaona/myfiles/Jaona/Components/dashboard/node_modules/restructure/src/EncodeStream.js"],"sourcesContent":["import {DecodeStream} from './DecodeStream.js';\n\nconst textEncoder = new TextEncoder();\nconst isBigEndian = new Uint8Array(new Uint16Array([0x1234]).buffer)[0] == 0x12;\n\nexport class EncodeStream {\n  constructor(buffer) {\n    this.buffer = buffer;\n    this.view = new DataView(this.buffer.buffer, this.buffer.byteOffset, this.buffer.byteLength);\n    this.pos = 0;\n  }\n\n  writeBuffer(buffer) {\n    this.buffer.set(buffer, this.pos);\n    this.pos += buffer.length;\n  }\n\n  writeString(string, encoding = 'ascii') {\n    let buf;\n    switch (encoding) {\n      case 'utf16le':\n      case 'utf16-le':\n      case 'ucs2': // node treats this the same as utf16.\n        buf = stringToUtf16(string, isBigEndian);\n        break;\n\n      case 'utf16be':\n      case 'utf16-be':\n        buf = stringToUtf16(string, !isBigEndian);\n        break;\n\n      case 'utf8':\n        buf = textEncoder.encode(string);\n        break;\n\n      case 'ascii':\n        buf = stringToAscii(string);\n        break;\n\n      default:\n        throw new Error(`Unsupported encoding: ${encoding}`);\n    }\n\n    this.writeBuffer(buf);\n  }\n\n  writeUInt24BE(val) {\n    this.buffer[this.pos++] = (val >>> 16) & 0xff;\n    this.buffer[this.pos++] = (val >>> 8) & 0xff;\n    this.buffer[this.pos++] = val & 0xff;\n  }\n\n  writeUInt24LE(val) {\n    this.buffer[this.pos++] = val & 0xff;\n    this.buffer[this.pos++] = (val >>> 8) & 0xff;\n    this.buffer[this.pos++] = (val >>> 16) & 0xff;\n  }\n\n  writeInt24BE(val) {\n    if (val >= 0) {\n      this.writeUInt24BE(val);\n    } else {\n      this.writeUInt24BE(val + 0xffffff + 1);\n    }\n  }\n\n  writeInt24LE(val) {\n    if (val >= 0) {\n      this.writeUInt24LE(val);\n    } else {\n      this.writeUInt24LE(val + 0xffffff + 1);\n    }\n  }\n\n  fill(val, length) {\n    if (length < this.buffer.length) {\n      this.buffer.fill(val, this.pos, this.pos + length);\n      this.pos += length;\n    } else {\n      const buf = new Uint8Array(length);\n      buf.fill(val);\n      this.writeBuffer(buf);\n    }\n  }\n}\n\nfunction stringToUtf16(string, swap) {\n  let buf = new Uint16Array(string.length);\n  for (let i = 0; i < string.length; i++) {\n    let code = string.charCodeAt(i);\n    if (swap) {\n      code = (code >> 8) | ((code & 0xff) << 8);\n    }\n    buf[i] = code;\n  }\n  return new Uint8Array(buf.buffer);\n}\n\nfunction stringToAscii(string) {\n  let buf = new Uint8Array(string.length);\n  for (let i = 0; i < string.length; i++) {\n    // Match node.js behavior - encoding allows 8-bit rather than 7-bit.\n    buf[i] = string.charCodeAt(i);\n  }\n  return buf;\n}\n\nfor (let key of Object.getOwnPropertyNames(DataView.prototype)) {\n  if (key.slice(0, 3) === 'set') {\n    let type = key.slice(3).replace('Ui', 'UI');\n    if (type === 'Float32') {\n      type = 'Float';\n    } else if (type === 'Float64') {\n      type = 'Double';\n    }\n    let bytes = DecodeStream.TYPES[type];\n    EncodeStream.prototype['write' + type + (bytes === 1 ? '' : 'BE')] = function (value) {\n      this.view[key](this.pos, value, false);\n      this.pos += bytes;\n    };\n\n    if (bytes !== 1) {\n      EncodeStream.prototype['write' + type + 'LE'] = function (value) {\n        this.view[key](this.pos, value, true);\n        this.pos += bytes;\n      };\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}